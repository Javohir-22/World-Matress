"use strict";window.addEventListener("load",function(){document.documentElement.scrollIntoView({behavior:"smooth"})});const success=function(e){var{latitude:e,longitude:o}=e.coords,e=[e,o];const t=L.map("map",{scrollWheelZoom:!1}).setView(e,13);o=L.icon({iconUrl:"../../assets/images/map-marker.svg",iconSize:[35,45],iconAnchor:[35,50],popupAnchor:[-16,-90]});L.tileLayer("https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(t),L.marker(e,{icon:o}).addTo(t).bindPopup(L.popup({content:"Shop World Matress",closeOnClick:!1,maxWidth:300,minWidth:150})).openPopup(),t.on("focus",function(){t.scrollWheelZoom.enable()}),t.on("blur",function(){t.scrollWheelZoom.disable()})},error=function(e){console.warn(`ERROR(${e.code}): `+e.message)},header=(navigator.geolocation&&navigator.geolocation.getCurrentPosition(success,error),document.getElementById("header")),headerWrapper=document.querySelector(".header__wrapper"),headerTitle=document.querySelector(".header__title"),headerVoting=document.querySelector(".header__voting"),headerOptions=document.querySelector(".header__options"),headerBtn=document.querySelector(".header__btn"),headerGallery=document.querySelector(".header__gallery"),headerService=document.querySelector(".header__service"),call=document.querySelector(".call"),main=document.querySelector(".main-home"),catalogsBlock=document.querySelector(".catalogs__block"),catalogsWrapper=document.querySelectorAll(".catalogs__wrapper"),aboutItems=document.querySelectorAll(".about__detail-item"),numberPopupCard=document.querySelector(".number-popup__card"),numberPopupBackdrop=document.querySelector(".number-popup__backdrop"),numberPopupCardClose=document.querySelector(".number-popup__card .close"),numberPopupCardForm=document.querySelector(".number-popup__card form"),questionPopupCont=document.querySelector(".question-popup__container"),questionPopupCards=document.querySelectorAll(".question-popup__card"),questionPopupBackdrop=document.querySelector(".question-popup__backdrop"),questionNextBtns=document.querySelectorAll(".question-popup__btn--next"),questionBackBtns=document.querySelectorAll(".question-popup__btn--back"),questionCloseBtn=document.querySelector(".question-popup__btn--close"),questionPopupCloses=questionPopupCont.querySelectorAll(".close"),questionAcceptBtn=document.querySelector(".question-popup__last-btn--accept"),questionProgress=document.querySelectorAll(".question-popup__progress"),responsePopupBackdrop=document.querySelector(".response-popup__backdrop"),responsePopupCard=document.querySelector(".response-popup__card"),responsePopupBtn=document.querySelector(".response-popup__btn"),scrollUp=document.querySelector(".scroll-up");function openPopup(e,o){e.classList.remove("fade-up"),o.classList.remove("hidden")}function hidePopup(e,o,t){t.preventDefault(),e.classList.add("fade-up"),o.classList.add("hidden")}catalogsBlock.addEventListener("click",function(e){e.preventDefault(),"BUTTON"===e.target.nodeName&&openPopup(numberPopupCard,numberPopupBackdrop)}),[numberPopupCardClose,numberPopupBackdrop].forEach(e=>e.addEventListener("click",hidePopup.bind(null,numberPopupCard,numberPopupBackdrop))),numberPopupCardForm.addEventListener("submit",hidePopup.bind(null,numberPopupCard,numberPopupBackdrop));const classMoveRight="to-right",classMoveLeft="to-left",classMoveTop="to-top",countTime=500;function moveToward(e,o){e.classList.remove(o)}function movingElement(t,n,r){return new Promise(function(e,o){setTimeout(function(){e(moveToward(t,n))},r)})}window.addEventListener("load",async function(){await movingElement(headerTitle,classMoveRight,countTime),await movingElement(headerVoting,classMoveRight,countTime),await movingElement(headerOptions,classMoveRight,countTime),await movingElement(headerBtn,classMoveRight,countTime),await movingElement(headerGallery,classMoveLeft,countTime),await movingElement(call,classMoveLeft,countTime),await movingElement(headerService,classMoveTop,countTime)}),window.addEventListener("scroll",function(){window.scrollY>=headerWrapper.getBoundingClientRect().height+50?scrollUp.classList.add("fade-down"):scrollUp.classList.remove("fade-down")}),scrollUp.addEventListener("click",function(){header.scrollIntoView({behavior:"smooth"})});const revealObserver=function(e,t,o){const n=new IntersectionObserver(function(e,o){var[e]=e;e.isIntersecting&&(e.target.classList.remove(t),o.unobserve(e.target))},{root:null,threshold:o});e.forEach(function(e){n.observe(e),e.classList.add(t)})},revealCatalogs=function(e,o,t){revealObserver(e,o,t)},revealAboutItems=(revealCatalogs(catalogsWrapper,classMoveTop,.2),function(e,o,t){revealObserver(e,o,t)});function toggleQuestionPopup(){[questionPopupBackdrop,questionPopupCont].forEach(e=>e.classList.toggle("hidden"))}function slider(){let e=0;const o=questionPopupCards.length;var t=questionProgress[0].parentElement.offsetWidth;const n=100*(t/o)/t;function r(t){questionPopupCards.forEach((e,o)=>e.style.transform=`translateX(${100*(o-t)}%)`)}function s(){e===o-1?e=o-1:e++,r(e),c(e)}function u(){e?e--:e=0,r(e),c(e)}function c(o=0){questionProgress.forEach(e=>e.style.width=n*(o+1)+"%")}r(e),questionNextBtns.forEach(e=>e.addEventListener("click",s)),questionBackBtns.forEach(e=>e.addEventListener("click",u)),document.addEventListener("keydown",function(e){"ArrowLeft"===e.code&&u(),"ArrowRight"===e.code&&s()}),c()}revealAboutItems(aboutItems,classMoveTop,.1),headerBtn.firstElementChild.addEventListener("click",toggleQuestionPopup),questionPopupCloses.forEach(e=>e.addEventListener("click",toggleQuestionPopup)),questionPopupBackdrop.addEventListener("click",toggleQuestionPopup),questionCloseBtn.addEventListener("click",toggleQuestionPopup),document.addEventListener("keydown",function(e){e.ctrlKey&&66===e.keyCode&&questionPopupCont.classList.contains("hidden")&&toggleQuestionPopup(),"Escape"!==e.key||questionPopupCont.classList.contains("hidden")||toggleQuestionPopup()}),slider(),questionAcceptBtn.addEventListener("click",function(){toggleQuestionPopup(),setTimeout(function(){openPopup(responsePopupCard,responsePopupBackdrop)},1200)}),responsePopupBtn.addEventListener("click",hidePopup.bind(null,responsePopupCard,responsePopupBackdrop));